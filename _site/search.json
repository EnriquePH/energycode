[
  {
    "objectID": "projects.html",
    "href": "projects.html",
    "title": "Projects",
    "section": "",
    "text": "Volcanic Eruptions in the Holocene Period\n\n\n\nR\n\n\nKaggle\n\n\nEDA\n\n\n\nkaggle Data Exploration notebook\n\n\n\nEnrique Pérez Herrero\n\n\nAugust 3, 2023\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nStock Market Confidence Indexes\n\n\n\nR\n\n\nPackage\n\n\nStock market\n\n\n\nR Package marketconf\n\n\n\nEnrique Pérez Herrero\n\n\nAugust 2, 2023\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/02082023-numpy-latex/index.html",
    "href": "posts/02082023-numpy-latex/index.html",
    "title": "Convert a NumPy array to LaTeX",
    "section": "",
    "text": "Sierra de las Nieves (Málaga)"
  },
  {
    "objectID": "posts/02082023-numpy-latex/index.html#functions-for-matrices-and-determinants",
    "href": "posts/02082023-numpy-latex/index.html#functions-for-matrices-and-determinants",
    "title": "Convert a NumPy array to LaTeX",
    "section": "1.1 Functions for matrices and determinants",
    "text": "1.1 Functions for matrices and determinants\nThe functions matrix2latex and det2latex generate an indented LaTeX string that can be copied or directly rendered in your math article.\nThe INDENT_SPACES parameter specifies the number of spaces used for indentation.\n\n\nCode\nimport numpy as np\n\nINDENT_SPACES = 3\n\ndef indent(num_indent=1):\n    \"\"\"\n    Number of spaces for indentation\n    \"\"\"\n    return num_indent * INDENT_SPACES * \" \"\n\ndef matrix2latex(matrix):\n    \"\"\"\n    Convert a NumPy array to LaTeX code as a matrix\n    \"\"\"\n    left_latex = r\"\\left(\" + \"\\n\" + indent(1) + r\"\\begin{array}\"\n    right_latex = indent(1) + r\"\\end{array}\" + \"\\n\" + r\"\\right)\"\n    m_cols = matrix.shape[1]\n    array_cols = \"{\" + \"r\" * m_cols + \"}\\n\"\n    elements_latex = \"\"\n    for row in matrix:\n        elements_latex = \\\n          elements_latex + indent(2) + \" & \".join([str(x) for x in row]) + \\\n            r\" \\\\ \" + \"\\n\"\n    latex = left_latex + array_cols + elements_latex + right_latex\n    return f\"$$\\n{latex}\\n$$\"\n\ndef det2latex(matrix):\n    \"\"\"\n    Convert a NumPy array to LaTeX code as a determinant\n    \"\"\"\n    left_latex = r\"\\begin{vmatrix}\" + \"\\n\"\n    right_latex = r\"\\end{vmatrix}\"\n    m_cols = matrix.shape[1]\n    elements_latex = \"\"\n    for row in matrix:\n        elements_latex = \\\n          elements_latex + indent(1) + \" & \".join([str(x) for x in row]) + \\\n            r\" \\\\ \" + \"\\n\"\n    latex = left_latex + elements_latex + right_latex\n    return f\"$$\\n{latex}\\n$$\"\n\n\n\n1.1.1 Output string\nUsing the NumPy function np.eye, we can create an identity matrix of the desired dimensions, making it a convenient tool for testing our functions.\n\n\nCode\nprint(matrix2latex(np.eye(3, dtype=int)))\n\n\n$$\n\\left(\n   \\begin{array}{rrr}\n      1 & 0 & 0 \\\\ \n      0 & 1 & 0 \\\\ \n      0 & 0 & 1 \\\\ \n   \\end{array}\n\\right)\n$$"
  },
  {
    "objectID": "posts/02082023-numpy-latex/index.html#rendering-output-in-a-document",
    "href": "posts/02082023-numpy-latex/index.html#rendering-output-in-a-document",
    "title": "Convert a NumPy array to LaTeX",
    "section": "1.2 Rendering output in a document",
    "text": "1.2 Rendering output in a document\nIf you are working in a Jupyter notebook, you can render a LaTeX string using the Math function from the IPython library, which can be imported as follows:\n\n\nCode\nfrom IPython.display import Math\n\n\nIf you are writing a Python chunk in a Quarto file in RStudio, you need to include the option #| output: asis at the top of the code chunk. This option determines how the output is rendered in the final document.\n\n\nCode\nprint(det2latex(np.eye(3, dtype=int)))\n\n\n\\begin{vmatrix}\n   1 & 0 & 0 \\\\\n   0 & 1 & 0 \\\\\n   0 & 0 & 1 \\\\\n\\end{vmatrix}\n\n\n\n\nCode\n# Identity 4x4 matrix\nidentity_4 = np.eye(4, dtype=int)\nidentity_4_latex = r\"$$I_4 = \" + f\"{matrix2latex(identity_4)}\"[2:]\nprint(identity_4_latex)\n\nI_4 =\n\\left(\n   \\begin{array}{rrrr}\n      1 & 0 & 0 & 0 \\\\\n      0 & 1 & 0 & 0 \\\\\n      0 & 0 & 1 & 0 \\\\\n      0 & 0 & 0 & 1 \\\\\n   \\end{array}\n\\right)"
  },
  {
    "objectID": "posts/02082023-numpy-latex/index.html#rendering-the-output-to-a-file",
    "href": "posts/02082023-numpy-latex/index.html#rendering-the-output-to-a-file",
    "title": "Convert a NumPy array to LaTeX",
    "section": "1.3 Rendering the output to a file",
    "text": "1.3 Rendering the output to a file\nThe LaTeX string can be rendered and saved to a file using the following function, which is based on the SymPy library.\n\n\nCode\nfrom sympy import preview\n\ndef latex2png(latex, filename, fontsize=300):\n    \"\"\"\n    Render LaTeX code to a PNG image\n    \"\"\"\n    return preview(latex,\n                   viewer='file',\n                   filename=filename,\n                   euler=False,\n                   dvioptions=['-D', f'{str(fontsize)}'])"
  },
  {
    "objectID": "posts/02082023-numpy-latex/index.html#other-types-of-automated-matrices",
    "href": "posts/02082023-numpy-latex/index.html#other-types-of-automated-matrices",
    "title": "Convert a NumPy array to LaTeX",
    "section": "1.4 Other types of automated matrices",
    "text": "1.4 Other types of automated matrices\n\n1.4.1 Matrices with numbered elements\n\n\nCode\ndef element_matrix(n, notation=r\"x\"):\n    \"\"\"\n    Matrix with elements in algebraic notation \n    \"\"\"\n    vec_function = \\\n      np.vectorize(lambda i, j: notation + \"_{\" + f\"{i + 1}{j + 1}\" + \"}\")\n    return np.fromfunction(vec_function,\n                           shape=(n, n),\n                           dtype=int)\n\n\n\n\nCode\nprint(matrix2latex(element_matrix(5, notation=r\"\\theta\")))\n\n\n\\left(\n   \\begin{array}{rrrrr}\n      \\theta_{11} & \\theta_{12} & \\theta_{13} & \\theta_{14} & \\theta_{15} \\\\\n      \\theta_{21} & \\theta_{22} & \\theta_{23} & \\theta_{24} & \\theta_{25} \\\\\n      \\theta_{31} & \\theta_{32} & \\theta_{33} & \\theta_{34} & \\theta_{35} \\\\\n      \\theta_{41} & \\theta_{42} & \\theta_{43} & \\theta_{44} & \\theta_{45} \\\\\n      \\theta_{51} & \\theta_{52} & \\theta_{53} & \\theta_{54} & \\theta_{55} \\\\\n   \\end{array}\n\\right)\n\n\n\n\n1.4.2 Triangular matrices\n\nUpper Triangular Matrix: In an upper triangular matrix, all elements below the main diagonal are zero.\n\n\n\nCode\ndef up_triangular_matrix(n):\n    \"\"\"\n    Upper Triangular matrix filled with ones and zeros\n    \"\"\"\n    return np.fromfunction(lambda i, j:  1 * np.less_equal(i , j),\n                           shape=(n, n),\n                           dtype=int)\n\n\n\nLower Triangular Matrix: In a lower triangular matrix, all elements above the main diagonal are zero.\n\n\n\nCode\ndef lw_triangular_matrix(n):\n    \"\"\"\n    Lower Triangular matrix filled with ones and zeros\n    \"\"\"\n    return np.fromfunction(lambda i, j:  1 * np.greater_equal(i , j),\n                           shape=(n, n),\n                           dtype=int)\n\n\n\n\nCode\nprint(matrix2latex(up_triangular_matrix(5)))\n\n\n\\left(\n   \\begin{array}{rrrrr}\n      1 & 1 & 1 & 1 & 1 \\\\\n      0 & 1 & 1 & 1 & 1 \\\\\n      0 & 0 & 1 & 1 & 1 \\\\\n      0 & 0 & 0 & 1 & 1 \\\\\n      0 & 0 & 0 & 0 & 1 \\\\\n   \\end{array}\n\\right)"
  },
  {
    "objectID": "posts/08012026-suma-reciprocos-tetraedricos/index.html",
    "href": "posts/08012026-suma-reciprocos-tetraedricos/index.html",
    "title": "Suma de los recíprocos de los números tetraédricos",
    "section": "",
    "text": "Tetrahedral Numbers"
  },
  {
    "objectID": "posts/08012026-suma-reciprocos-tetraedricos/index.html#introducción",
    "href": "posts/08012026-suma-reciprocos-tetraedricos/index.html#introducción",
    "title": "Suma de los recíprocos de los números tetraédricos",
    "section": "1 INTRODUCCIÓN",
    "text": "1 INTRODUCCIÓN\nEsta entrada en el blog continúa con ejercicios sobre series relacionadas con los recíprocos de números especiales, siguiendo trabajos previos1 sobre los números piramidales cuadrados y los números poligonales. En esta ocasión consideramos un ejemplo sencillo: la suma de los recíprocos de los números tetraédricos.\nAunque el resultado no es particularmente profundo, sirve como una buena ilustración del uso de fracciones parciales y series telescópicas."
  },
  {
    "objectID": "posts/08012026-suma-reciprocos-tetraedricos/index.html#números-tetraédricos",
    "href": "posts/08012026-suma-reciprocos-tetraedricos/index.html#números-tetraédricos",
    "title": "Suma de los recíprocos de los números tetraédricos",
    "section": "2 NÚMEROS TETRAÉDRICOS",
    "text": "2 NÚMEROS TETRAÉDRICOS\nLos números tetraédricos representan el número de esferas que pueden apilarse formando un tetraedro regular [2] [3] y están definidos por la fórmula\n\nT_n = \\frac{n(n+1)(n+2)}{6} = \\binom{n+2}{3}\n\\tag{1}"
  },
  {
    "objectID": "posts/08012026-suma-reciprocos-tetraedricos/index.html#la-serie-de-los-recíprocos-de-números-tetraédricos",
    "href": "posts/08012026-suma-reciprocos-tetraedricos/index.html#la-serie-de-los-recíprocos-de-números-tetraédricos",
    "title": "Suma de los recíprocos de los números tetraédricos",
    "section": "3 LA SERIE DE LOS RECÍPROCOS DE NÚMEROS TETRAÉDRICOS",
    "text": "3 LA SERIE DE LOS RECÍPROCOS DE NÚMEROS TETRAÉDRICOS\nNos interesa estudiar la suma parcial\n\nS(n) = \\sum_{k=1}^{n} \\frac{1}{T_k}\n\\tag{2}\nSustituyendo la expresión explícita de T_k, obtenemos\n\nS(n) = \\sum_{k=1}^{n} \\frac{6}{k(k+1)(k+2)}\n\\tag{3}"
  },
  {
    "objectID": "posts/08012026-suma-reciprocos-tetraedricos/index.html#descomposición-en-fracciones-parciales",
    "href": "posts/08012026-suma-reciprocos-tetraedricos/index.html#descomposición-en-fracciones-parciales",
    "title": "Suma de los recíprocos de los números tetraédricos",
    "section": "4 DESCOMPOSICIÓN EN FRACCIONES PARCIALES",
    "text": "4 DESCOMPOSICIÓN EN FRACCIONES PARCIALES\nLa fracción racional (3) puede descomponerse en una suma de otras como:\n\n\\frac{6}{k(k+1)(k+2)} =\n\\frac{A}{k} + \\frac{B}{k+1} + \\frac{C}{k+2}\n\\tag{4}\nResolviendo el sistema lineal correspondiente se obtienen los valores de los denominadores de la descomposición en fracciones parciales:\n\nA = \\frac{1}{2}, \\qquad\nB = -1, \\qquad\nC = \\frac{1}{2}\n\\tag{5}\nPor lo tanto,\n\n\\frac{6}{k(k+1)(k+2)}\n= \\frac{1}{2k} - \\frac{1}{k+1} + \\frac{1}{2(k+2)}\n\\tag{6}"
  },
  {
    "objectID": "posts/08012026-suma-reciprocos-tetraedricos/index.html#números-armónicos",
    "href": "posts/08012026-suma-reciprocos-tetraedricos/index.html#números-armónicos",
    "title": "Suma de los recíprocos de los números tetraédricos",
    "section": "5 NÚMEROS ARMÓNICOS",
    "text": "5 NÚMEROS ARMÓNICOS\nEstas tres series se pueden sumar facilmente teniendo en cuenta las siguientes identidades para los números armónicos H_n [4]:\n\n\\sum_{k=1}^{n} \\frac{1}{k} = H_n\n\\tag{7}\n\n\\sum_{k=1}^{n} \\frac{1}{k+1} = H_n - 1 + \\frac{1}{n+1}\n\\tag{8}\n \\sum_{k=1}^{n} \\frac{1}{k+2} = H_n - \\frac{3}{2} + \\frac{1}{n+1} + \\frac{1}{n+2}\n\\tag{9} Sustituyendo estas expresiones en la identidad (6), se obtiene\n\n\\begin{align}\n\\frac{S(n)}{6}\n= \\frac{n}{n+1}\n- \\frac{1}{2}\n- \\frac{1}{4}\n+ \\frac{1}{2(n+1)}\n+ \\frac{1}{2(n+2)}\n\\end{align}\n\\tag{10}\nAquí se observa claramente el carácter telescópico de la serie: los términos H_n se cancelan, evitando la aparición de la constante de Euler-Mascheroni (\\gamma) o la función digamma (\\psi) partiendo de la extensión clásica de los números armónicos.\n\nH_{n} = \\gamma + \\psi(n+1)\n\\tag{11}"
  },
  {
    "objectID": "posts/08012026-suma-reciprocos-tetraedricos/index.html#fórmula-cerrada",
    "href": "posts/08012026-suma-reciprocos-tetraedricos/index.html#fórmula-cerrada",
    "title": "Suma de los recíprocos de los números tetraédricos",
    "section": "6 FÓRMULA CERRADA",
    "text": "6 FÓRMULA CERRADA\nSimplificando (10), se obtiene una expresión cerrada para la suma parcial:\n\nS(n) = \\frac{3n(n+3)}{2(n+1)(n+2)}\n\\tag{12}\nLos numeradores y denominadores de (12) son respectivamente las secuencias designadas como A118391 y A118392 en OEIS."
  },
  {
    "objectID": "posts/08012026-suma-reciprocos-tetraedricos/index.html#suma-infinita",
    "href": "posts/08012026-suma-reciprocos-tetraedricos/index.html#suma-infinita",
    "title": "Suma de los recíprocos de los números tetraédricos",
    "section": "7 SUMA INFINITA",
    "text": "7 SUMA INFINITA\nFinalmente, tomando el límite de (12) cuando n \\to \\infty,\n\n\\lim_{n \\to \\infty} S(n)\n= \\frac{3}{2}\n\\tag{13}\nEsto muestra que la serie de los recíprocos de los números tetraédricos converge, y su suma infinita es igual a \\frac{3}{2}."
  },
  {
    "objectID": "posts/08012026-suma-reciprocos-tetraedricos/index.html#footnotes",
    "href": "posts/08012026-suma-reciprocos-tetraedricos/index.html#footnotes",
    "title": "Suma de los recíprocos de los números tetraédricos",
    "section": "Notas",
    "text": "Notas\n\n\nEste artículo es una traducción y actualización del post original titulado TETRAHEDRAL NUMBERS RECIPROCALS SUM publicado el viernes 25 de diciembre de 2009 en el blog Psychedelic Geometry [1].↩︎"
  },
  {
    "objectID": "projects/03-holocene-volcanic-eruptions/index.html",
    "href": "projects/03-holocene-volcanic-eruptions/index.html",
    "title": "Volcanic Eruptions in the Holocene Period",
    "section": "",
    "text": "Volcán de Teneguía (La Palma)"
  },
  {
    "objectID": "projects/03-holocene-volcanic-eruptions/index.html#data-source",
    "href": "projects/03-holocene-volcanic-eruptions/index.html#data-source",
    "title": "Volcanic Eruptions in the Holocene Period",
    "section": "1.1 Data source",
    "text": "1.1 Data source\nThe Smithsonian Institution’s Global Volcanism Program (GVP) documents Earth’s volcanoes and their eruptive history. The Volcanoes of the World database is a catalog of Holocene and Pleistocene volcanoes, as well as eruptions from the past 12,000 years in the Holocene period. The GVP database includes the names, locations, types, and features of more than 1,500 volcanoes that have erupted during the Holocene period or are currently exhibiting signs of unrest."
  },
  {
    "objectID": "projects/03-holocene-volcanic-eruptions/index.html#eda-exploratory-data-analysis-notebook",
    "href": "projects/03-holocene-volcanic-eruptions/index.html#eda-exploratory-data-analysis-notebook",
    "title": "Volcanic Eruptions in the Holocene Period",
    "section": "1.2 EDA (Exploratory Data Analysis) Notebook",
    "text": "1.2 EDA (Exploratory Data Analysis) Notebook\nThis notebook processes GVP data by simplifying the main variables. It also tests various map plotting systems in R to effectively visualize and explore the data."
  },
  {
    "objectID": "projects/03-holocene-volcanic-eruptions/index.html#comments",
    "href": "projects/03-holocene-volcanic-eruptions/index.html#comments",
    "title": "Volcanic Eruptions in the Holocene Period",
    "section": "1.3 Comments",
    "text": "1.3 Comments\nThis kaggle notebook is mentioned in Hidden Gems: A Collection of Underrated Notebooks Volume 61 - 2021-07-06\n“A well-designed analysis of volcano activity that features a clear structure, clean code, and a set of great interactive visuals.”"
  },
  {
    "objectID": "projects/03-holocene-volcanic-eruptions/index.html#links",
    "href": "projects/03-holocene-volcanic-eruptions/index.html#links",
    "title": "Volcanic Eruptions in the Holocene Period",
    "section": "1.4 Links",
    "text": "1.4 Links\n\nkaggle - Holocene Volcanic Eruptions: Data Exploration\nkaggle - Hidden Gems: A Collection of Underrated Notebooks\nkaggle - Dataset: Volcanic Eruptions in the Holocene Period\nSmithsonian Institution’s Global Volcanism Program (GVP)"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "www.energycode.org is a specialized blog and informational site that focuses on programming, mathematics, engineering and technical topics relevant to developers and data scientists.\n\nAuthor\nThe site is maintained by Enrique Pérez Herrero.\n\n\n  \n    \n  \n\n\n\nLicense\nCreative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0).\n\n\n\nLicencia Creative Commons BY-SA 4.0"
  },
  {
    "objectID": "TODO.html",
    "href": "TODO.html",
    "title": "1 energycode.org TODO.md",
    "section": "",
    "text": "1 energycode.org TODO.md\n\n1.0.1 Todo\n\nOEIS.R package\n\n\n\n1.0.2 In Progress\n\nPost about blog features\n\n\n\n1.0.3 Done\n\nAdd analytics\nDesign a blog logo\nR package marketconf project\nTesting analytics\nPost Nympy to LaTeX\nfavicon.ico\nProject Holocene Volcanic Eruptions\nPost about sticker\nGithub pages publish.yaml\nadd DESCRPTION file"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Blog",
    "section": "",
    "text": "Suma de los recíprocos de los números tetraédricos\n\n\n\nMath\n\n\nSeries\n\n\nEspecial numbers\n\n\n\nSumas de la serie de los recíprocos de los números tetraédricos\n\n\n\nEnrique Pérez Herrero\n\n\nJan 8, 2026\n\n\n\n\n\n\n\n\n\n\n\n\nEuclinacci\n\n\n\nR\n\n\nFibonacci\n\n\nEuclid\n\n\nMath\n\n\n\nLa sucesión de Fibonacci y el Algoritmo de Euclides\n\n\n\nEnrique Pérez Herrero\n\n\nJun 11, 2025\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nA004782(n) = A014847(n) + 1\n\n\n\nMath\n\n\nOEIS\n\n\nCatalan numbers\n\n\nCombinatorics\n\n\n\nRelación entre dos secuencias asociadas con los números de Catalan\n\n\n\nEnrique Pérez Herrero\n\n\nMay 18, 2024\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nConvert a NumPy array to LaTeX\n\n\n\nPython\n\n\nNumpy\n\n\nLatex\n\n\nDeterminant\n\n\n\nLaTeX matrices and determinants from NumPy arrays\n\n\n\nEnrique Pérez Herrero\n\n\nAug 2, 2023\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nBlog Logo Sticker\n\n\n\nR\n\n\n\nBlog logo with hexSticker\n\n\n\nEnrique Pérez Herrero\n\n\nAug 1, 2023\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nConfusion Matrix in R\n\n\n\nR\n\n\nMachine Learning\n\n\n\nPlotting a Confusion Matrix with ggplot in R\n\n\n\nEnrique Pérez Herrero\n\n\nMar 9, 2022\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMax Determinant\n\n\n\nMath\n\n\nLinear Algebra\n\n\nDeterminant\n\n\n\nDeterminants of special square matrices with elements defined as the Maximum or Minimum of the Indices.\n\n\n\nEnrique Pérez Herrero\n\n\nMar 5, 2022\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nBINOMIAL MATRIX (I)\n\n\n\nMath\n\n\nMatrices\n\n\nCombinatorics\n\n\n\nA matrix related to Pascal’s triangle, also known as Tartaglia’s triangle\n\n\n\nEnrique Pérez Herrero\n\n\nSep 22, 2009\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "projects/02-marketconf-package/index.html",
    "href": "projects/02-marketconf-package/index.html",
    "title": "Stock Market Confidence Indexes",
    "section": "",
    "text": "The R package marketconf reads data on U. S. Stock Market Confidence Indexes from the Yale School of Management’s International Center for Finance web page.\nThis package is designed for stock market prediction and risk valuation, and it is compatible with other packages like:\nquantmod, TTR or tidyquant\n\n\n\n\nCode\nlibrary(devtools)\ndevtools::install_github(\"EnriquePH/marketconf\")\n\n\n\n\n\n\n\nThe four U.S. stock market confidence indices are derived monthly from survey data on investors’ behavior. These indices are:\n\n\nCode\nlibrary(marketconf)\nlibrary(knitr)\nkable(US_confidence_indices()[c(1, 3, 4)])\n\n\n\n\n\n\n\n\n\n\nSymbol\nDescription\nInfo\n\n\n\n\nUS1YI\nU.S. One Year Confidence Index\nThe percent of the population expecting an increase in the Dow in the coming year.\n\n\nUSVI\nU.S. Valuation Confidence Index\nThe percent of the population who think that the market is not too high.\n\n\nUSBODI\nU.S. Buy-On-Dips Confidence Index\nThe percent of the population expecting a rebound the next day should the market ever drop 3% in one day.\n\n\nUSCI\nU.S. Crash Confidence Index\nThe percent of the population who attach little probability to a stock market crash in the next-six months.\n\n\n\n\n\n\n\n\nThis is a basic example that plots the U.S. Valuation Confidence Index:\n\n\nCode\nlibrary(ggplot2)\n\nindex_symbol &lt;- \"USVI\"\nindex_df &lt;- get_index(index_symbol)\n\nggplot(index_df, aes(x = Date, y = USVI.Value, color = Investor)) +\n  geom_line() +\n  ggtitle(get_index_description(index_symbol))\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe markerconf package is licensed under the MIT License (MIT), but the Stock Market Confidence Indexes are produced and copyrighted by the International Center of Finance at the Yale School of Management. Please refer to the TERMS OF USE on Yale University’s web page for further information.\n\n\n\n\nGithub marketconf R package"
  },
  {
    "objectID": "projects/02-marketconf-package/index.html#package-installation",
    "href": "projects/02-marketconf-package/index.html#package-installation",
    "title": "Stock Market Confidence Indexes",
    "section": "",
    "text": "Code\nlibrary(devtools)\ndevtools::install_github(\"EnriquePH/marketconf\")"
  },
  {
    "objectID": "projects/02-marketconf-package/index.html#examples",
    "href": "projects/02-marketconf-package/index.html#examples",
    "title": "Stock Market Confidence Indexes",
    "section": "",
    "text": "The four U.S. stock market confidence indices are derived monthly from survey data on investors’ behavior. These indices are:\n\n\nCode\nlibrary(marketconf)\nlibrary(knitr)\nkable(US_confidence_indices()[c(1, 3, 4)])\n\n\n\n\n\n\n\n\n\n\nSymbol\nDescription\nInfo\n\n\n\n\nUS1YI\nU.S. One Year Confidence Index\nThe percent of the population expecting an increase in the Dow in the coming year.\n\n\nUSVI\nU.S. Valuation Confidence Index\nThe percent of the population who think that the market is not too high.\n\n\nUSBODI\nU.S. Buy-On-Dips Confidence Index\nThe percent of the population expecting a rebound the next day should the market ever drop 3% in one day.\n\n\nUSCI\nU.S. Crash Confidence Index\nThe percent of the population who attach little probability to a stock market crash in the next-six months.\n\n\n\n\n\n\n\n\nThis is a basic example that plots the U.S. Valuation Confidence Index:\n\n\nCode\nlibrary(ggplot2)\n\nindex_symbol &lt;- \"USVI\"\nindex_df &lt;- get_index(index_symbol)\n\nggplot(index_df, aes(x = Date, y = USVI.Value, color = Investor)) +\n  geom_line() +\n  ggtitle(get_index_description(index_symbol))"
  },
  {
    "objectID": "projects/02-marketconf-package/index.html#license",
    "href": "projects/02-marketconf-package/index.html#license",
    "title": "Stock Market Confidence Indexes",
    "section": "",
    "text": "The markerconf package is licensed under the MIT License (MIT), but the Stock Market Confidence Indexes are produced and copyrighted by the International Center of Finance at the Yale School of Management. Please refer to the TERMS OF USE on Yale University’s web page for further information."
  },
  {
    "objectID": "projects/02-marketconf-package/index.html#links",
    "href": "projects/02-marketconf-package/index.html#links",
    "title": "Stock Market Confidence Indexes",
    "section": "",
    "text": "Github marketconf R package"
  },
  {
    "objectID": "posts/12012026-binomial-matrix-i/index.html",
    "href": "posts/12012026-binomial-matrix-i/index.html",
    "title": "BINOMIAL MATRIX (I)",
    "section": "",
    "text": "Figure 1: Niccolò Tartaglia (1572) [1]"
  },
  {
    "objectID": "posts/12012026-binomial-matrix-i/index.html#introduction",
    "href": "posts/12012026-binomial-matrix-i/index.html#introduction",
    "title": "BINOMIAL MATRIX (I)",
    "section": "1 Introduction",
    "text": "1 Introduction\nBy applying yesterday’s idea1 with slight variations, we can derive new expressions for matrices whose elements are related to binomial coefficients.\nLet U_n be a square matrix with entries:\n\nu_{i,j} = \\binom{j}{i}\n\\tag{1}\nU_n is an upper triangular matrix with all diagonal entries equal to 1, and it closely resembles Pascal’s triangle (which I prefer to call Tartaglia’s triangle)2."
  },
  {
    "objectID": "posts/12012026-binomial-matrix-i/index.html#example-matrix-u_10",
    "href": "posts/12012026-binomial-matrix-i/index.html#example-matrix-u_10",
    "title": "BINOMIAL MATRIX (I)",
    "section": "2 Example matrix U_{10}",
    "text": "2 Example matrix U_{10}\n\nU_{10} =\n\\begin{pmatrix}\n1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 \\\\\n0 & 1 & 3 & 6 & 10 & 15 & 21 & 28 & 36 & 45 \\\\\n0 & 0 & 1 & 4 & 10 & 20 & 35 & 56 & 84 & 120 \\\\\n0 & 0 & 0 & 1 & 5 & 15 & 35 & 70 & 126 & 210 \\\\\n0 & 0 & 0 & 0 & 1 & 6 & 21 & 56 & 126 & 252 \\\\\n0 & 0 & 0 & 0 & 0 & 1 & 7 & 28 & 84 & 210 \\\\\n0 & 0 & 0 & 0 & 0 & 0 & 1 & 8 & 36 & 120 \\\\\n0 & 0 & 0 & 0 & 0 & 0 & 0 & 1 & 9 & 45 \\\\\n0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 1 & 10 \\\\\n0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 1\n\\end{pmatrix}\n\\tag{2}\nAnd, of course:\n\n|U_{n}|=1\n\\tag{3}\nOr in element wise notation:\n\n\\det\\!\\left[ \\binom{i}{i} \\right]_{i,j=1}^{n} = 1\n\\tag{4}\nIf we multiply this matrix by its transpose, we obtain a symmetric matrix with:\n\n|A_{n}| = |U_{n}^{T} * U_{n}| = |U_{n}^{2}|=1\n\\tag{5}"
  },
  {
    "objectID": "posts/12012026-binomial-matrix-i/index.html#example-matrix-a_10",
    "href": "posts/12012026-binomial-matrix-i/index.html#example-matrix-a_10",
    "title": "BINOMIAL MATRIX (I)",
    "section": "3 Example matrix A_{10}",
    "text": "3 Example matrix A_{10}\n\nA_{10}= \\left( \\begin{array}{cccccccccc} 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 \\\\ 2 & 5 & 9 & 14 & 20 & 27 & 35 & 44 & 54 & 65 \\\\ 3 & 9 & 19 & 34 & 55 & 83 & 119 & 164 & 219 & 285 \\\\ 4 & 14 & 34 & 69 & 125 & 209 & 329 & 494 & 714 & 1000 \\\\ 5 & 20 & 55 & 125 & 251 & 461 & 791 & 1286 & 2001 & 3002 \\\\ 6 & 27 & 83 & 209 & 461 & 923 & 1715 & 3002 & 5004 & 8007 \\\\ 7 & 35 & 119 & 329 & 791 & 1715 & 3431 & 6434 & 11439 & 19447 \\\\ 8 & 44 & 164 & 494 & 1286 & 3002 & 6434 & 12869 & 24309 & 43757 \\\\ 9 & 54 & 219 & 714 & 2001 & 5004 & 11439 & 24309 & 48619 & 92377 \\\\ 10 & 65 & 285 & 1000 & 3002 & 8007 & 19447 & 43757 & 92377 & 184755 \\end{array}\\right)\n\\\\ \\tag{6}\nThe most remarkable property of this symmetric matrix is that its determinant equals 1, making it a unimodular matrix.\nThus, we have constructed a new matrix with determinant equal to one:\n\n\\begin{aligned}\na_{i,j} &= \\sum_{r=1}^n u_{i,r}^* \\cdot u_{r,j} \\\\\n&= \\sum_{r=1}^{\\min(i,j)} u_{r,i} \\cdot u_{r,j} \\\\\n&= \\sum_{r=1}^{\\min(i,j)} \\binom{i}{r} \\binom{j}{r} \\\\\n&= -1 + \\sum_{r=0}^{\\min(i,j)} \\binom{i}{r} \\binom{j}{r} \\\\\n&= -1 + \\sum_{r=0}^{i} \\binom{i}{r} \\binom{j}{r} \\\\\n&= -1 + \\binom{i+j}{i} \\\\\n&= \\binom{i+j}{i} - 1\n\\end{aligned}\n\\tag{7}\nAlternatively, in element-wise notation:\n\n\\det\\!\\left[ \\binom{i+j}{i} - 1 \\right]_{i,j=1}^{n} = 1\n\\tag{8}\nNote: For a proof of the binomial identity used above, see references [3] or [4]."
  },
  {
    "objectID": "posts/12012026-binomial-matrix-i/index.html#oeis-related-sequences",
    "href": "posts/12012026-binomial-matrix-i/index.html#oeis-related-sequences",
    "title": "BINOMIAL MATRIX (I)",
    "section": "4 OEIS Related Sequences",
    "text": "4 OEIS Related Sequences\n\n\n\nRow/Col\nOEIS Sequence(s)\n\n\n\n\n1\nA000027\n\n\n2\nA000096\n\n\n3\nA062748\n\n\n4\nA063258\n\n\n5\nA062988\n\n\n6\nA124089\n\n\n7\nA124090\n\n\n8\nA165618\n\n\n9\nA035927\n\n\n10\n–"
  },
  {
    "objectID": "posts/12012026-binomial-matrix-i/index.html#footnotes",
    "href": "posts/12012026-binomial-matrix-i/index.html#footnotes",
    "title": "BINOMIAL MATRIX (I)",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nThis article is a translation and update of the original post entitled BINOMIAL MATRIX (I), published on Tuesday, September 22, 2009, on the blog Psychedelic Geometry [2].↩︎\nPortret van Niccolò Tartaglia (1572). Gravure por Philips Galle. under CC0 1.0 Public Domain Dedication, Rijksmuseum y Wikimedia Commons, [1]↩︎"
  },
  {
    "objectID": "posts/11062025-euclinacci/index.html",
    "href": "posts/11062025-euclinacci/index.html",
    "title": "Euclinacci",
    "section": "",
    "text": "Una igualdad aparentemente trivial como 1+1=2 encierra consecuencias tan profundas que han ocupado bibliotecas enteras1:\nEntre ellas destaca la famosa sucesión de Fibonacci [2]:\n\n\\{0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, \\ldots\\}\n\\tag{1}\nLa sucesión de Fibonacci se define de forma recursiva mediante la siguiente expresión:\n\nF_n =\n\\begin{cases}\nF_0 = 0 \\\\\nF_1 = 1 \\\\\nF_n = F_{n-1} + F_{n-2}, & \\text{para } n \\ge 2\n\\end{cases}\n\\tag{2}"
  },
  {
    "objectID": "posts/11062025-euclinacci/index.html#introducción",
    "href": "posts/11062025-euclinacci/index.html#introducción",
    "title": "Euclinacci",
    "section": "",
    "text": "Una igualdad aparentemente trivial como 1+1=2 encierra consecuencias tan profundas que han ocupado bibliotecas enteras1:\nEntre ellas destaca la famosa sucesión de Fibonacci [2]:\n\n\\{0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, \\ldots\\}\n\\tag{1}\nLa sucesión de Fibonacci se define de forma recursiva mediante la siguiente expresión:\n\nF_n =\n\\begin{cases}\nF_0 = 0 \\\\\nF_1 = 1 \\\\\nF_n = F_{n-1} + F_{n-2}, & \\text{para } n \\ge 2\n\\end{cases}\n\\tag{2}"
  },
  {
    "objectID": "posts/11062025-euclinacci/index.html#propiedades-fundamentales",
    "href": "posts/11062025-euclinacci/index.html#propiedades-fundamentales",
    "title": "Euclinacci",
    "section": "\n2 PROPIEDADES FUNDAMENTALES",
    "text": "2 PROPIEDADES FUNDAMENTALES\nEl análisis de la razón entre términos consecutivos de la sucesión de Fibonacci tiene dos propiedades importantes:\n\nLa sucesión de razones \\frac{F_{n+1}}{F_n} converge a un límite finito cuando n tiende a infinito.\nDos números de Fibonacci consecutivos son coprimos: \\gcd(F_{n}, F_{n+1}) = 1."
  },
  {
    "objectID": "posts/11062025-euclinacci/index.html#tabla-de-razones",
    "href": "posts/11062025-euclinacci/index.html#tabla-de-razones",
    "title": "Euclinacci",
    "section": "\n3 TABLA DE RAZONES",
    "text": "3 TABLA DE RAZONES\n\n\n\n\n\n\n\n\n\nn\nF_n\n\\frac{F_{n+1}}{F_n}\nError absoluto \\left| \\frac{F_{n+1}}{F_n} - \\phi \\right|\n\n\n\n\n5\n5\n1.6666667\n0.0486327\n\n\n10\n55\n1.6176471\n0.0003869\n\n\n15\n610\n1.6180339\n≈ 2.7 × 10⁻⁷\n\n\n20\n6765\n1.6180339887\n≈ 1.3 × 10⁻¹⁰\n\n\n\n\nTabla 1: Convergencia de la razón \\frac{F_{n+1}}{F_n} hacia el número áureo \\phi = \\frac{1+\\sqrt{5}}{2} \\approx 1.6180339887\\ldots"
  },
  {
    "objectID": "posts/11062025-euclinacci/index.html#la-razón-aurea",
    "href": "posts/11062025-euclinacci/index.html#la-razón-aurea",
    "title": "Euclinacci",
    "section": "\n4 LA RAZÓN AUREA",
    "text": "4 LA RAZÓN AUREA\nSea I el límite de la relación entre dos números de Fibonacci consecutivos:\n\nI = \\lim_{n \\to \\infty} \\frac{F_n}{F_{n-1}}\n\\tag{3}\nComo:\n\n\\frac{F_{n}}{F_{n-1}} = \\frac{F_{n-1}+F_{n-2}}{F_{n-1}} = 1 + \\frac{F_{n-2}}{F_{n-1}} (n \\geq 2)\n\\tag{4}\nTomando límites se obtiene:\n\nI = 1 + \\frac{1}{I}\n\\Rightarrow I^2 = I + 1\n\\Rightarrow I = \\frac{1 + \\sqrt{5}}{2} = \\phi\n\\tag{5}\nEl número \\phi es conocido como la proporción áurea.\n\nCódigolibrary(ggplot2)\n\nfibonacci &lt;- function(n) {\n  F &lt;- numeric(n)\n  F[1] &lt;- 1\n  F[2] &lt;- 1\n  for (i in 3:n) {\n    F[i] &lt;- F[i - 1] + F[i - 2]\n  }\n  return(F)\n}\n\nn &lt;- 20\nF &lt;- fibonacci(n)\nratio &lt;- F[-1] / F[-length(F)]\ndata &lt;- data.frame(n = 2:n, ratio = ratio)\nphi &lt;- (1 + sqrt(5)) / 2\n\nggplot(data, aes(x = n, y = ratio)) +\n  geom_point(color = \"steelblue\", size = 2) +\n  geom_line(color = \"steelblue\") +\n  geom_hline(yintercept = phi,\n             linetype = \"dashed\",\n             color = \"red\") +\n  labs(title = \"Razón entre números consecutivos de Fibonacci\",\n       x = \"n\",\n       y = expression(F[n] / F[n - 1])) +\n  theme_minimal()"
  },
  {
    "objectID": "posts/11062025-euclinacci/index.html#el-algoritmo-de-euclides",
    "href": "posts/11062025-euclinacci/index.html#el-algoritmo-de-euclides",
    "title": "Euclinacci",
    "section": "\n5 EL ALGORITMO DE EUCLIDES",
    "text": "5 EL ALGORITMO DE EUCLIDES\nLa segunda propiedad se puede demostrar empleando el Algoritmo de Euclides, que es técnica milenaria para encontrar el máximo común divisor (MCD) entre dos números enteros.\nDados a y b, el algoritmo genera la secuencia:\n\n(a, b) = (r_0, r_1) = (r_1, r_2) = \\cdots = (r_{n-1}, r_n)\n\\tag{6}\nCon la siguiente relación de recurrencia:\n\n\\begin{cases}\nr_0 = a \\\\\nr_1 = b \\\\\nr_{i+1} = r_{i-1} - r_i \\cdot \\left\\lfloor \\dfrac{r_{i-1}}{r_i} \\right\\rfloor\n\\end{cases}\n\\tag{7}\nCuando r_{i+1} = 0, entonces \\gcd(a, b) = r_i y el algoritmo se detiene.\nLa notación \\lfloor x \\rfloor corresponde a la denominada función suelo [3] que devuelve el mayor entero menor o igual que x"
  },
  {
    "objectID": "posts/11062025-euclinacci/index.html#aplicación-a-los-números-de-fibonacci",
    "href": "posts/11062025-euclinacci/index.html#aplicación-a-los-números-de-fibonacci",
    "title": "Euclinacci",
    "section": "\n6 APLICACIÓN A LOS NÚMEROS DE FIBONACCI",
    "text": "6 APLICACIÓN A LOS NÚMEROS DE FIBONACCI\nSea:\n\n(F_n, F_{n-1}) = (r_0, r_1)\n\\tag{8}\nEntonces:\n\n\\begin{aligned}\nr_2 &= F_n - F_{n-1} \\cdot \\left\\lfloor \\dfrac{F_n}{F_{n-1}} \\right\\rfloor \\\\\n&= F_n - F_{n-1} \\cdot \\left\\lfloor 1 + \\dfrac{F_{n-2}}{F_{n-1}} \\right\\rfloor \\\\\n&= F_n - F_{n-1} \\cdot (1 + 0) = F_{n-2}\n\\end{aligned}\n\\tag{9}\nRepitiendo el proceso, se obtiene:\n\n(F_n, F_{n-1}) = (F_{n-1}, F_{n-2}) = \\cdots = (2, 1) = 1\n\\tag{10}\nPor lo tanto, dos números de Fibonacci consecutivos son siempre coprimos."
  },
  {
    "objectID": "posts/11062025-euclinacci/index.html#conclusión",
    "href": "posts/11062025-euclinacci/index.html#conclusión",
    "title": "Euclinacci",
    "section": "\n7 CONCLUSIÓN",
    "text": "7 CONCLUSIÓN\nEl algoritmo de Euclides proporciona una demostración elegante y alternativa de la coprimalidad de dos términos consecutivos de la sucesión de Fibonacci."
  },
  {
    "objectID": "posts/11062025-euclinacci/index.html#footnotes",
    "href": "posts/11062025-euclinacci/index.html#footnotes",
    "title": "Euclinacci",
    "section": "Notas",
    "text": "Notas\n\nEste artículo es una traducción y actualización del post original titulado EUCLINACCI publicado el domingo 1 de febrero de 2009 en el blog Psychedelic Geometry [1].↩︎"
  },
  {
    "objectID": "posts/18052024-catalan-numbers/index.html#introducción",
    "href": "posts/18052024-catalan-numbers/index.html#introducción",
    "title": "A004782(n) = A014847(n) + 1",
    "section": "1 INTRODUCCIÓN",
    "text": "1 INTRODUCCIÓN\nRelacionar dos secuencias distintas de números enteros en la On-Line Encyclopedia of Integer Sequences (OEIS) abre conexiones entre dentro de la información matemática disponible1. La secuencia de números enteros, A004782 [2], está compuesta por los números n que cumplen:\n\nn \\in \\{A004782\\} \\Leftrightarrow \\frac{2 (2n-3)!}{n! (n-1)!} \\in \\mathbb{N}\n\\tag{1}\nY está estrechamente relacionada con la secuencia A014847 [3], formada por los números n dónde el enésimo número de Catalan C_{n} es divisible por n\n\nn \\in \\{A014847\\} \\Leftrightarrow n \\vert C_{n}\n\\tag{2}\nLos números de Catalan [4] aparecen con mucha frecuencia en combinatoria y otras áreas de las matemáticas y están definidos por la expresión: \nC_{n} = \\frac{1}{(n+1)}\\binom{2n}{n}\n\\tag{3}\nestán relacionados con los coeficientes binomiales centrales [5] y los primeros términos de la secuencia de los números de Catalan son:\n\n1, 1, 2, 5, 14, 42, 132, 429, 1430, 4862, 16796, \\dots"
  },
  {
    "objectID": "posts/18052024-catalan-numbers/index.html#enunciado",
    "href": "posts/18052024-catalan-numbers/index.html#enunciado",
    "title": "A004782(n) = A014847(n) + 1",
    "section": "2 ENUNCIADO",
    "text": "2 ENUNCIADO\n\nA004782(n) = A014847(n) + 1\n\\tag{4}"
  },
  {
    "objectID": "posts/18052024-catalan-numbers/index.html#demostración",
    "href": "posts/18052024-catalan-numbers/index.html#demostración",
    "title": "A004782(n) = A014847(n) + 1",
    "section": "3 DEMOSTRACIÓN",
    "text": "3 DEMOSTRACIÓN\nPartiendo de las funciones f(n) y g(n):\n\nf(n) =  \\frac{2 (2n-3)!}{n! (n-1)!}\n\\tag{5}\n\ng(n) = \\frac{C_{n}}{n} = \\binom{2n}{n}  \\frac{1}{(n+1) n}\n\\tag{6}\nSe puede comprobar como f(n+1) es igual a g(n) por cálculo directo:\n\nf(n+1)=\\frac{2 (2n-1)!}{(n+1) {(n!)}^2} = \\frac{2n (2n-1)!}{n(n+1) {(n!)}^2}\n= \\frac{(2n)!}{n (n+1) {(n!)}^2}= \\\\ \\binom{2n}{n} \\frac{1}{(n+1) n} = g(n)\n\\tag{7}\nPor lo tanto:\n\nf(n+1) \\in \\mathbb{N} \\Longleftrightarrow g(n) \\in \\mathbb{N} \\Longleftrightarrow n+1  \\{A004782\\} \\Longleftrightarrow n \\in \\{A014847\\}\n\\tag{8}"
  },
  {
    "objectID": "posts/18052024-catalan-numbers/index.html#footnotes",
    "href": "posts/18052024-catalan-numbers/index.html#footnotes",
    "title": "A004782(n) = A014847(n) + 1",
    "section": "Notas",
    "text": "Notas\n\n\nEste artículo es una traducción y actualización del post original titulado A004782(n)=A014847(n)+1 publicado el viernes 29 de noviembre de 2013 en el blog Psychedelic Geometry [1].↩︎"
  },
  {
    "objectID": "posts/05032022-max-determinant/index.html",
    "href": "posts/05032022-max-determinant/index.html",
    "title": "Max Determinant",
    "section": "",
    "text": "Plot3D of max matrix elements"
  },
  {
    "objectID": "posts/05032022-max-determinant/index.html#identity",
    "href": "posts/05032022-max-determinant/index.html#identity",
    "title": "Max Determinant",
    "section": "1 Identity",
    "text": "1 Identity\nThe sequence A181983(n) gives the determinants of the square matrices: M_{n}, where the elements m_{i,j}= \\max(i,j) and \\max denotes the maximum function.\nThis identity appears as follows:\n\\begin{equation}\ndet{\\bigg[ max(i,j) \\bigg] }_{1\\leq i,j \\leq n} = -n \\cdot {(-1)}^{n} = A181983(n)\n\\end{equation}"
  },
  {
    "objectID": "posts/05032022-max-determinant/index.html#proof",
    "href": "posts/05032022-max-determinant/index.html#proof",
    "title": "Max Determinant",
    "section": "2 Proof",
    "text": "2 Proof\nA new matrix with the same determinant can be created by subtracting row i from row i+1 starting from the 2nd row. The determinant of this new matrix can then be easily computed using the expansion by minors technique at element m_{1,n}\nThis can be better illustrated with an example:\nWe can transform:\n\\begin{equation}\nM_{10} = \\left(\\begin{array}{cccccccccc}\n1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 \\\\\n2 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 \\\\\n3 & 3 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 \\\\\n4 & 4 & 4 & 4 & 5 & 6 & 7 & 8 & 9 & 10 \\\\\n5 & 5 & 5 & 5 & 5 & 6 & 7 & 8 & 9 & 10 \\\\\n6 & 6 & 6 & 6 & 6 & 6 & 7 & 8 & 9 & 10 \\\\\n7 & 7 & 7 & 7 & 7 & 7 & 7 & 8 & 9 & 10 \\\\\n8 & 8 & 8 & 8 & 8 & 8 & 8 & 8 & 9 & 10 \\\\\n9 & 9 & 9 & 9 & 9 & 9 & 9 & 9 & 9 & 10 \\\\\n10 & 10 & 10 & 10 & 10 & 10 & 10 & 10 & 10 & 10\n\\end{array} \\right)\n\\end{equation}\nInto:\n\\begin{equation}\nM^{*}_{10} =\\left(\\begin{array}{cccccccccc}\n1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 \\\\\n1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\\\\n1 & 1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\\\\n1 & 1 & 1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\\\\n1 & 1 & 1 & 1 & 0 & 0 & 0 & 0 & 0 & 0 \\\\\n1 & 1 & 1 & 1 & 1 & 0 & 0 & 0 & 0 & 0 \\\\\n1 & 1 & 1 & 1 & 1 & 1 & 0 & 0 & 0 & 0 \\\\\n1 & 1 & 1 & 1 & 1 & 1 & 1 & 0 & 0 & 0 \\\\\n1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 0 & 0 \\\\\n1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 0 \\end{array} \\right)\n\\end{equation}\nThis proof can be generalized to a very similar type of matrices, resulting in:\n\\begin{equation}\ndet{\\bigg[ max(i,j)^k \\bigg]}_{1\\leq i,j \\leq n} = {(-1)}^{n-1} \\cdot n^{k} \\cdot \\prod_{s=1}^{n-1}{(s+1)^k-s^k}\n\\end{equation}\n\\begin{equation}\ndet{\\bigg[ min(i,j)^k \\bigg]}_{1\\leq i,j \\leq n} = \\prod_{s=1}^{n-1}{(s+1)^k-s^k}\n\\end{equation}"
  },
  {
    "objectID": "posts/05032022-max-determinant/index.html#references",
    "href": "posts/05032022-max-determinant/index.html#references",
    "title": "Max Determinant",
    "section": "3 References",
    "text": "3 References\n\n\n1. Sloane NJA A051125: Table t(n,k) = maxn,k read by antidiagonals (n &gt;= 1, k &gt;= 1).\n\n\n2. Somos M (2012) A181983: A(n) = (-1)^(n+1) * n.\n\n\n3. Deutsch E (2009) A161124: Number of inversions in all fixed-point-free involutions of 1,2,...,2n.\n\n\n4. Sloane NJA A001147: Double factorial of odd numbers: A(n) = (2*n-1)!! = 1*3*5*...*(2*n-1)."
  },
  {
    "objectID": "posts/01082023-blog-logo/index.html",
    "href": "posts/01082023-blog-logo/index.html",
    "title": "Blog Logo Sticker",
    "section": "",
    "text": "El paquete hexSticker creado por Guangchuang Yu [1] es una herramienta para generar stickers hexagonales reproducibles en R. Estos stickers son ideales como logos para paquetes de programación, blogs, proyectos o presentaciones. En este artículo post se muestra cómo crear el logo del la web ENERGYCODE usando una imagen extraída de un icono de un rayo blanco sobre un fondo negro, con ajustes para obtener el resultado deseado. Además, se soluciona el problema reportado en GitHub sobre que el borde hexagonal a veces se recorta al guardar en PNG o SVG (ver issue #155).\n\nCódigolibrary(hexSticker)\nlibrary(magrittr)"
  },
  {
    "objectID": "posts/01082023-blog-logo/index.html#el-paquete-hexsticker",
    "href": "posts/01082023-blog-logo/index.html#el-paquete-hexsticker",
    "title": "Blog Logo Sticker",
    "section": "",
    "text": "El paquete hexSticker creado por Guangchuang Yu [1] es una herramienta para generar stickers hexagonales reproducibles en R. Estos stickers son ideales como logos para paquetes de programación, blogs, proyectos o presentaciones. En este artículo post se muestra cómo crear el logo del la web ENERGYCODE usando una imagen extraída de un icono de un rayo blanco sobre un fondo negro, con ajustes para obtener el resultado deseado. Además, se soluciona el problema reportado en GitHub sobre que el borde hexagonal a veces se recorta al guardar en PNG o SVG (ver issue #155).\n\nCódigolibrary(hexSticker)\nlibrary(magrittr)"
  },
  {
    "objectID": "posts/01082023-blog-logo/index.html#archivos-de-entrada-y-salida",
    "href": "posts/01082023-blog-logo/index.html#archivos-de-entrada-y-salida",
    "title": "Blog Logo Sticker",
    "section": "\n2 Archivos de entrada y salida",
    "text": "2 Archivos de entrada y salida\n\nCódigofile_icon &lt;- \"lightning_icon_white.png\"\nfile_name &lt;- \"logo.png\""
  },
  {
    "objectID": "posts/01082023-blog-logo/index.html#solución-al-recorte-del-borde-del-hexágono",
    "href": "posts/01082023-blog-logo/index.html#solución-al-recorte-del-borde-del-hexágono",
    "title": "Blog Logo Sticker",
    "section": "\n3 Solución al recorte del borde del hexágono",
    "text": "3 Solución al recorte del borde del hexágono\nEl problema del borde recortado se soluciona ampliando ligeramente los límites del gráfico y es necesario modificar la función del tema gráfico que viene en el paquete hexStickerpor defecto. La siguiente función, adaptada de una contribución comunitaria, añade un margen extra para garantizar que el hexágono quede completo.\n\nCódigo# Solves issue:\n# Border always cut off in .png or .svg #155\n# https://github.com/GuangchuangYu/hexSticker/issues/155\n# by https://github.com/emilioxavier\n#| label: tema-personalizado\n#| echo: true\n\nlibrary(ggplot2)  # Para solución issue #155\n\nmy_theme_sticker &lt;- function(size = 1.2, ...) {\n  center &lt;- 1\n  radius &lt;- 1\n  h &lt;- radius\n  w &lt;- sqrt(3) / 2 * radius\n  m &lt;- 1.05\n  list(\n    theme_transparent() +\n      ggplot2::theme(\n        plot.margin = margin(\n          t = 0,\n          r = 0,\n          b = 0,\n          l = 0,\n          unit = \"lines\"\n        ),\n        strip.text = element_blank(),\n        line = element_blank(),\n        text = element_blank(),\n        title = element_blank(),\n        ...\n      ),\n    coord_fixed(),\n    scale_y_continuous(\n      expand = c(0, 0),\n      limits = c(center - h * m , center + h * m)\n    ),\n    scale_x_continuous(\n      expand = c(0, 0),\n      limits = c(center - w * m , center + w * m)\n    )\n  )\n}"
  },
  {
    "objectID": "posts/01082023-blog-logo/index.html#creación-del-sticker",
    "href": "posts/01082023-blog-logo/index.html#creación-del-sticker",
    "title": "Blog Logo Sticker",
    "section": "\n4 Creación del sticker",
    "text": "4 Creación del sticker\nAhora generamos el logo ajustando posiciones, tamaños y colores.\n\nCódigosticker(\n  subplot = file_icon,\n  package = \"ENERGYCODE\",\n  p_size = 18,      # Tamaño del texto\n  p_y = 1.3,        # Posición vertical del texto\n  p_color = \"white\",\n  h_fill = \"black\", # Fondo del hexágono\n  h_color = \"grey\", # Color del borde\n  h_size = 1.5,     # Grosor del borde\n  s_x = 1,          # Posición horizontal del icono\n  s_y = 0.75,       # Posición vertical del icono\n  s_width = 0.35,   # Ancho del icono\n  s_height = 0.35,  # Alto del icono\n  spotlight = TRUE, # Efecto de luz opcional\n  l_x = 1.0,        # Posición de la luz (ajustar si usas spotlight)\n  dpi = 300,        # Alta resolución\n  filename = file_name,\n  theme = my_theme_sticker()\n)"
  },
  {
    "objectID": "posts/01082023-blog-logo/index.html#resultado-final",
    "href": "posts/01082023-blog-logo/index.html#resultado-final",
    "title": "Blog Logo Sticker",
    "section": "\n5 Resultado final",
    "text": "5 Resultado final\n]\nEl logo generado tiene un aspecto sencillo, con el borde completo y listo para usar en cualquier sitio web o documentación. Se puede incluir fácilmente en un sitio Quarto añadiendo en _quarto.yml:\nwebsite:\n  title: \"ENERGYCODE\"\n  navbar:\n    logo: logo.png"
  },
  {
    "objectID": "posts/09032022-confusion-matrix/index.html",
    "href": "posts/09032022-confusion-matrix/index.html",
    "title": "Confusion Matrix in R",
    "section": "",
    "text": "The confusion matrix is a useful tool for visualizing the performance of a classification algorithm. In this blog post, we provide a function to generate an image of the confusion matrix. Additionally, the R package caret includes the confusionMatrix function, which produces detailed output.\n\nCodelibrary(e1071)\nlibrary(caTools)\nlibrary(ggplot2)\nlibrary(scales)\nlibrary(caret)\n\n\n\nWe will conduct a Naive Bayes classification using the classic Iris dataset.\n\nCode# train and test data\niris$spl &lt;- caTools::sample.split(iris, SplitRatio = 0.8)\ntrain &lt;- subset(iris, iris$spl == TRUE)\ntest &lt;- subset(iris, iris$spl == FALSE)\n\niris_nb &lt;- naiveBayes(Species ~ ., data = train)\nnb_train_predict &lt;- predict(iris_nb, test[, names(test) != \"Species\"])\n\ncfm &lt;- confusionMatrix(nb_train_predict, test$Species)\ncfm\n\nConfusion Matrix and Statistics\n\n            Reference\nPrediction   setosa versicolor virginica\n  setosa         10          0         0\n  versicolor      0         10         2\n  virginica       0          0         8\n\nOverall Statistics\n                                          \n               Accuracy : 0.9333          \n                 95% CI : (0.7793, 0.9918)\n    No Information Rate : 0.3333          \n    P-Value [Acc &gt; NIR] : 8.747e-12       \n                                          \n                  Kappa : 0.9             \n                                          \n Mcnemar's Test P-Value : NA              \n\nStatistics by Class:\n\n                     Class: setosa Class: versicolor Class: virginica\nSensitivity                 1.0000            1.0000           0.8000\nSpecificity                 1.0000            0.9000           1.0000\nPos Pred Value              1.0000            0.8333           1.0000\nNeg Pred Value              1.0000            1.0000           0.9091\nPrevalence                  0.3333            0.3333           0.3333\nDetection Rate              0.3333            0.3333           0.2667\nDetection Prevalence        0.3333            0.4000           0.2667\nBalanced Accuracy           1.0000            0.9500           0.9000\n\n\n\nTo plot the resulting confusion matrix using ggplot, we use the following function:\n\nCodeggplot_confusion_matrix &lt;- function(cfm) {\n  mytitle &lt;- paste(\"Accuracy\", percent_format() (cfm$overall[1]),\n                   \"Kappa\", percent_format() (cfm$overall[2]))\n  p &lt;-\n    ggplot(data = as.data.frame(cfm$table),\n           aes(x = Reference, y = Prediction)) +\n    geom_tile(aes(fill = log(Freq)), colour = \"white\") +\n    scale_fill_gradient(low = \"white\", high = \"steelblue\") +\n    geom_text(aes(x = Reference, y = Prediction, label = Freq)) +\n    theme(legend.position = \"none\") +\n    ggtitle(mytitle)\n  return(p)\n}\n\n\n\nCodeggplot_confusion_matrix(cfm)"
  },
  {
    "objectID": "posts/09032022-confusion-matrix/index.html#classification",
    "href": "posts/09032022-confusion-matrix/index.html#classification",
    "title": "Confusion Matrix in R",
    "section": "",
    "text": "We will conduct a Naive Bayes classification using the classic Iris dataset.\n\nCode# train and test data\niris$spl &lt;- caTools::sample.split(iris, SplitRatio = 0.8)\ntrain &lt;- subset(iris, iris$spl == TRUE)\ntest &lt;- subset(iris, iris$spl == FALSE)\n\niris_nb &lt;- naiveBayes(Species ~ ., data = train)\nnb_train_predict &lt;- predict(iris_nb, test[, names(test) != \"Species\"])\n\ncfm &lt;- confusionMatrix(nb_train_predict, test$Species)\ncfm\n\nConfusion Matrix and Statistics\n\n            Reference\nPrediction   setosa versicolor virginica\n  setosa         10          0         0\n  versicolor      0         10         2\n  virginica       0          0         8\n\nOverall Statistics\n                                          \n               Accuracy : 0.9333          \n                 95% CI : (0.7793, 0.9918)\n    No Information Rate : 0.3333          \n    P-Value [Acc &gt; NIR] : 8.747e-12       \n                                          \n                  Kappa : 0.9             \n                                          \n Mcnemar's Test P-Value : NA              \n\nStatistics by Class:\n\n                     Class: setosa Class: versicolor Class: virginica\nSensitivity                 1.0000            1.0000           0.8000\nSpecificity                 1.0000            0.9000           1.0000\nPos Pred Value              1.0000            0.8333           1.0000\nNeg Pred Value              1.0000            1.0000           0.9091\nPrevalence                  0.3333            0.3333           0.3333\nDetection Rate              0.3333            0.3333           0.2667\nDetection Prevalence        0.3333            0.4000           0.2667\nBalanced Accuracy           1.0000            0.9500           0.9000"
  },
  {
    "objectID": "posts/09032022-confusion-matrix/index.html#plotting",
    "href": "posts/09032022-confusion-matrix/index.html#plotting",
    "title": "Confusion Matrix in R",
    "section": "",
    "text": "To plot the resulting confusion matrix using ggplot, we use the following function:\n\nCodeggplot_confusion_matrix &lt;- function(cfm) {\n  mytitle &lt;- paste(\"Accuracy\", percent_format() (cfm$overall[1]),\n                   \"Kappa\", percent_format() (cfm$overall[2]))\n  p &lt;-\n    ggplot(data = as.data.frame(cfm$table),\n           aes(x = Reference, y = Prediction)) +\n    geom_tile(aes(fill = log(Freq)), colour = \"white\") +\n    scale_fill_gradient(low = \"white\", high = \"steelblue\") +\n    geom_text(aes(x = Reference, y = Prediction, label = Freq)) +\n    theme(legend.position = \"none\") +\n    ggtitle(mytitle)\n  return(p)\n}\n\n\n\nCodeggplot_confusion_matrix(cfm)"
  }
]